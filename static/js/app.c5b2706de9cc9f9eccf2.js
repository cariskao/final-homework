webpackJsonp([1],{"1XR2":function(t,e){},"1hL3":function(t,e){},"3rCw":function(t,e){},"7DBb":function(t,e){},Gogc:function(t,e){},"Mem+":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isRouterAlive?e("router-view"):this._e()],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},i,!1,function(t){a("3rCw")},null,null).exports,o=a("/ocq"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"120px"}},[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請先登入")]),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2018")])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n      ")])])}]};var c=a("VU/8")({data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(e){e.data.success&&t.$router.push("/admin/products")})}}},n,!1,function(t){a("wadF")},"data-v-beabf6c2",null).exports,l=a("Dd8w"),d=a.n(l),u=a("7t+N"),p=a.n(u),v=a("NYxO"),m={data:function(){return{}},methods:{slideSend:function(t){this.$store.dispatch("productsModules/searchText",t),t?this.$store.dispatch("productsModules/clickSlide",!0):this.$store.dispatch("productsModules/clickSlide",!1)},filterCategoryLength:function(t){return this.products.filter(function(e){return e.category===t}).length}},computed:d()({},Object(v.c)("productsModules",["categories","searchText","products"])),created:function(){}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12 col-md-2"},[a("div",{staticClass:"list-group sticky-top"},[t._l(t.categories,function(e){return a("a",{key:e,staticClass:"list-group-item list-group-item-action",class:{active:e===t.searchText},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.slideSend(e)}}},[a("i",{staticClass:"fa fa-street-view",attrs:{"aria-hidden":"true"}}),t._v("\n      "+t._s(e)+"("+t._s(t.filterCategoryLength(e))+")\n    ")])}),t._v(" "),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:""===t.searchText},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.slideSend("")}}},[t._v("全部顯示("+t._s(t.products.length)+")")])],2)])},staticRenderFns:[]};var _={inject:["reload"],components:{Slide:a("VU/8")(m,h,!1,function(t){a("kT1F")},null,null).exports},data:function(){return{data:['<div class="example-slide"><img src="https://i.pinimg.com/originals/9e/91/2f/9e912fc996b37ada8f11a695e8307a40.jpg"></div>','<div class="example-slide"><img src="https://goo.gl/XYij8s"></div>','<div class="example-slide"><img src="https://i.pinimg.com/originals/79/96/4d/79964d1c3fa9b69b152e375364c5586e.jpg"></div>']}},methods:d()({addFavorite:function(t){this.$store.dispatch("productsModules/addFavorite",t),this.reload()}},Object(v.b)("productsModules",["getProducts"]),{getProduct:function(t){this.$router.push("/detail/"+t)},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("cartModules/addtoCart",{id:t,qty:e})}},Object(v.b)("cartModules",["getCart"])),computed:d()({filterProductsSearch:function(){var t=this;return t.searchText&&!t.clickSlide?t.products.filter(function(e){return e.title.toLowerCase().includes(t.searchText.toLowerCase())}):t.searchText&&t.clickSlide?t.products.filter(function(e){return e.category===t.searchText}):t.products}},Object(v.c)("productsModules",["products","pagination","searchText","clickSlide"]),Object(v.c)("cartModules",["isLoading","cart"])),created:function(){this.getProducts()}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"150px"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("carousel",{staticStyle:{"margin-bottom":"100px"},attrs:{data:t.data}}),t._v(" "),a("div",{staticClass:"row"},[a("Slide"),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-10"},[a("div",{staticClass:"row"},t._l(t.filterProductsSearch,function(e){return a("div",{key:e.id,staticClass:"col-sm-12 col-md-4 card border-0 item-hover mb-4",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"photo-scale product-style",style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.getProduct(e.id)}}}),t._v(" "),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),t._v(" "),a("h5",{staticClass:"card-title word-size"},[a("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getProduct(e.id)}}},[t._v(t._s(e.title))])]),t._v(" "),a("a",{staticClass:"float-right",staticStyle:{"margin-top":"-20px","margin-right":"5px"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addFavorite(e)}}},[a("i",{staticClass:"fa-star",class:{fas:e.isStar,far:!e.isStar}})]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"justify-content-between align-items-baseline"},[e.price?t._e():a("div",{staticClass:"h5"},[t._v("售價 "+t._s(t._f("currency")(e.origin_price))+" 元")]),t._v(" "),e.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(e.origin_price))+" 元")]):t._e(),t._v(" "),e.price?a("div",{staticClass:"h5"},[t._v("特價 "+t._s(t._f("currency")(e.price))+" 元")]):t._e()])]),t._v(" "),a("div",{staticClass:"card-footer d-flex",staticStyle:{padding:"10px",border:"1px solid gray"}},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",staticStyle:{"margin-right":"5px"},attrs:{type:"button"},on:{click:function(a){return t.getProduct(e.id)}}},[a("i",{staticClass:"fas fa-info-circle"}),t._v("\n              查看更多\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(e.id)}}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v("\n              加到購物車\n            ")])])])}),0)])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(_,f,!1,function(t){a("z2dp")},"data-v-a5f1af4c",null).exports,C={data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},toolTip_data:[{title:"選擇 5 折優惠卷",content:"滿50,000可享5折優惠",percent:"50%"},{title:"選擇 7 折優惠卷",content:"滿30,000可享7折優惠",percent:"70%"},{title:"選擇 9 折優惠卷",content:"滿20,000可享9折優惠",percent:"90%"}]}},methods:d()({},Object(v.b)("cartModules",["getCart"]),{removeCartItem:function(t,e){this.$store.dispatch("cartModules/removeCartItem",{id:t,title:e})},choiceCoupon:function(t){var e=this;"50%"===t?e.cart.total>=5e4?e.coupon_code="555":alert("您的消費金額還不滿50,000元哦!"):"70%"===t?e.cart.total>=3e4?e.coupon_code="777":alert("您的消費金額還不滿30,000元哦!"):"90%"===t&&(e.cart.total>=2e4?e.coupon_code="999":alert("您的消費金額還不滿20,000元哦!"))},useCouponCode:function(){var t=this,e={code:t.coupon_code};t.$store.dispatch("cartModules/updateLoading",!0),this.$http.post("https://vue-course-api.hexschool.io/api/caris/coupon",{data:e}).then(function(e){console.log("Cart-useCouponCode",e.data.success),e.data.success?(t.$bus.$emit("msg-from-cart-coupon",e.data.message,"primary"),t.$store.dispatch("cartModules/getCart"),t.$store.dispatch("cartModules/updateLoading",!1)):(t.$bus.$emit("msg-from-cart-coupon",e.data.message,"danger"),t.$store.dispatch("cartModules/updateLoading",!1))})},createOrder:function(){var t=this,e=this,a=e.form;this.$store.dispatch("cartModules/updateLoading",!0),this.$validator.validate().then(function(s){s?t.$http.post("https://vue-course-api.hexschool.io/api/caris/order",{data:a}).then(function(a){console.log("createOrder-訂單已建立",a),a.data.success&&(t.$store.dispatch("cartModules/updateLoading",!1),e.$router.push("/customer_checkout/"+a.data.orderId))}):(t.$store.dispatch("cartModules/updateLoading",!1),console.log("欄位不完整"))})}}),created:function(){this.getCart()},computed:d()({},Object(v.c)("cartModules",["isLoading","cart"]))},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center",staticStyle:{"margin-top":"150px"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),t.cart.carts.length>0?a("p",{staticStyle:{"font-size":"30px"}},[t._v("我的訂單")]):a("p",{staticStyle:{"font-size":"30px"}},[t._v("您現在購物車中沒有訂單")]),t._v(" "),t.cart.carts.length>0?a("table",{staticClass:"table col-md-12"},[t._m(0),t._v(" "),a("tbody",t._l(t.cart.carts,function(e){return a("tr",{key:e.id},[a("td",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.removeCartItem(e.id,e.product.title)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),a("td",[t._v("\n          "+t._s(e.product.title)+"\n          "),e.coupon?a("div",{staticClass:"text-success"},[t._v("已套用優惠卷")]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),t._v(" "),a("td",[t._v(t._s(e.total))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t._v(" "),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]),t._v(" "),a("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]):t._e(),t._v(" "),a("form",{staticClass:"col-md-12",staticStyle:{"margin-bottom":"40px"},on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t._v(" "),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v("\n        "+t._s(t.errors.first("email"))+"\n      ")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("u_name")},attrs:{type:"text",name:"u_name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t._v(" "),t.errors.has("u_name")?a("span",{staticClass:"text-danger"},[t._v("姓名不可爲空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t._v(" "),t.errors.has("tel")?a("span",{staticClass:"text-danger"},[t._v("電話號碼不可爲空")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t._v(" "),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),t._v(" "),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[t._l(t.toolTip_data,function(e,s){return a("button",{directives:[{name:"tip",rawName:"v-tip.keep",value:e.content,expression:"item.content",modifiers:{keep:!0}}],key:s,staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.choiceCoupon(e.percent)}}},[t._v(t._s(e.title))])}),t._v(" "),a("button",{staticClass:"btn btn-outline-secondary",staticStyle:{background:"blue",color:"white"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.useCouponCode(e)}}},[t._v("套用優惠碼")])],2)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("留言")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._v(" "),t._m(1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("品名")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("數量")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("單價")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[this._v("送出訂單")])])}]};var x=a("VU/8")(C,b,!1,function(t){a("Gogc")},null,null).exports,y={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,e=this,a="https://vue-course-api.hexschool.io/api/caris/order/"+e.orderId;this.$store.dispatch("cartModules/updateLoading",!0),this.$http.get(a).then(function(a){console.log("getOrder",a),e.order=a.data.order,t.$store.dispatch("cartModules/updateLoading",!1)})},payOrder:function(){var t=this,e="https://vue-course-api.hexschool.io/api/caris/pay/"+this.orderId;this.$store.dispatch("cartModules/updateLoading",!0),this.$http.post(e).then(function(e){console.log("payOrder",e),e.data.success&&t.getOrder(),t.$store.dispatch("cartModules/updateLoading",!1)})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},computed:d()({},Object(v.c)("cartModules",["isLoading"]))},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center",staticStyle:{"margin-top":"120px"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",t._l(t.order.products,function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])}),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),t._v(" "),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),a("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),a("tr",[a("th",[t._v("收件人電話")]),t._v(" "),a("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),a("tr",[a("th",[t._v("收件人地址")]),t._v(" "),a("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),a("tr",[a("th",[t._v("付款狀態")]),t._v(" "),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",[this._v("品名")]),this._v(" "),e("th",[this._v("數量")]),this._v(" "),e("th",[this._v("單價")])])}]},w=a("VU/8")(y,k,!1,null,null,null).exports,P={name:"Navbar",data:function(){return{searchModel:"",favoriteTotal:0}},methods:d()({searchReset:function(){this.$store.dispatch("productsModules/searchText",""),this.$store.dispatch("productsModules/clickSlide",!1)},signout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(e){e.data.success&&(t.getLoginSuccess(),t.$router.push("/login"))})},removeCart:function(t,e){this.$store.dispatch("cartModules/removeCartItem",{id:t,title:e})}},Object(v.b)(["getLoginSuccess"]),Object(v.b)("cartModules",["getCart"])),created:function(){this.getCart(),this.getLoginSuccess();var t=localStorage.getItem("myFavorite")?JSON.parse(localStorage.getItem("myFavorite")):console.log("nothing in localStorage");this.favoriteTotal=t.items.length},watch:{searchModel:function(){this.$store.dispatch("productsModules/searchText",this.searchModel)},searchText:function(){this.searchModel=this.searchText}},computed:d()({},Object(v.c)("cartModules",["cart"]),Object(v.c)("productsModules",["searchText","clickSlide"]),Object(v.c)(["loginSuccess"]))},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar navbar-light bg-light fixed-top"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("dLd/"),alt:""}})]),t._v(" "),s("div",{staticClass:"input-group col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchModel,expression:"searchModel"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchModel},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.searchReset(e)},input:function(e){e.target.composing||(t.searchModel=e.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.searchReset}},[s("i",{staticClass:"fa fa-times"})])])]),t._v(" "),s("div",{staticClass:"input-group-append navbar-style"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/favorite",title:"我的最愛"}},[s("i",{staticClass:"far fa-star"}),t._v("\n        我的最愛("+t._s(t.favoriteTotal)+")\n      ")]),t._v(" "),s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products",title:"後台管理"}},[t._v("後台管理")])],1),t._v(" "),s("div",{staticClass:"dropdown ml-auto"},[s("button",{staticClass:"btn btn-sm btn-cart",attrs:{"data-toggle":"dropdown","data-flip":"false"}},[s("i",{staticClass:"fa fa-shopping-cart text-dark fa-2x",attrs:{"aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"cart-length"},[t._v(t._s(t.cart.carts.length))]),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("unread messages")])]),t._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right p-3",staticStyle:{"min-width":"400px"},attrs:{"data-offset":"400"}},[t.cart.carts.length>0?s("h6",[t._v("已選擇商品")]):s("div",{staticStyle:{"text-align":"center"}},[s("h6",[t._v("尚無商品")]),t._v(" "),s("img",{staticStyle:{width:"300px"},attrs:{src:"https://cdngarenanow-a.akamaihd.net/shopee/shopee-pcmall-live-tw/assets/f3540f6657bbdc1120e3f8cc90bdba97.png",alt:""}})]),t._v(" "),s("table",{staticClass:"table table-sm"},[s("tbody",t._l(t.cart.carts,function(e){return s("tr",{key:e.id},[s("td",{staticClass:"align-middle text-center"},[s("a",{staticClass:"text-muted",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCart(e.id,e.product.title)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),s("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),t._v(" "),s("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+t._s(e.product.unit))]),t._v(" "),s("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.total))])])}),0)]),t._v(" "),t.cart.carts.length>0?s("router-link",{staticClass:"i-style",attrs:{to:"/cart"}},[s("button",{staticClass:"btn btn-primary"},[s("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 結帳去\n          ")])]):t._e()],1)]),t._v(" "),s("a",{staticClass:"nav-link",attrs:{href:"#",title:"Sign out",name:"Sign out"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t.loginSuccess?s("i",{staticClass:"fas fa-sign-out-alt text-dark fa-2x"}):s("span",{staticClass:"navbar-hover"},[t._v("登入")])])],1)])},staticRenderFns:[]};var A={components:{Navbar:a("VU/8")(P,S,!1,function(t){a("1hL3")},"data-v-09d020c3",null).exports}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Navbar"),this._v(" "),e("Alert"),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1)},staticRenderFns:[]};var D=a("VU/8")(A,L,!1,function(t){a("gkcb")},null,null).exports,M={inject:["reload"],data:function(){return{detailId:"",product:{},qty:{num:1}}},methods:{addFavorite:function(t){this.$store.dispatch("productsModules/addFavorite",t),this.reload()},getDetail:function(){var t=this,e="https://vue-course-api.hexschool.io/api/caris/product/"+t.detailId;t.$store.dispatch("cartModules/updateLoading",!0),this.$http.get(e).then(function(e){t.product=e.data.product,t.$store.dispatch("cartModules/updateLoading",!1)})},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("cartModules/addtoCart",{id:t,qty:e})}},computed:d()({},Object(v.c)("cartModules",["isLoading"]),{chcekFavortie:function(){var t=this;return(localStorage.getItem("myFavorite")?JSON.parse(localStorage.getItem("myFavorite")):console.log("nothing in localStorage")).items.some(function(e){return e.id===t.detailId})}}),created:function(){this.detailId=this.$route.params.detailId,this.getDetail()}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"120px"}},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-4 text-center flex",staticStyle:{position:"relative"}},[a("a",{staticStyle:{position:"absolute",top:"0",right:"0","font-size":"30px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addFavorite(t.product)}}},[a("i",{staticClass:"fa-star",class:{fas:t.chcekFavortie,far:!t.chcekFavortie}})]),t._v(" "),a("img",{attrs:{src:t.product.imageUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-8"},[a("div",{staticClass:"row no-gutters rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"},[a("div",{staticClass:"col p-4 d-flex flex-column position-static"},[a("h3",{staticClass:"mb-0"},[t._v("\n                "+t._s(t.product.title)+"\n                "),a("span",{staticClass:"badge badge-secondary ml-2",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.product.category))])]),t._v(" "),a("div",[t.product.price?t._e():a("div",{staticClass:"h4 text-primary"},[t._v("售價 "+t._s(t._f("currency")(t.product.origin_price))+" 元")]),t._v(" "),t.product.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(t.product.origin_price))+" 元")]):t._e(),t._v(" "),t.product.price?a("div",{staticClass:"h4 text-primary"},[t._v("現在只要 "+t._s(t._f("currency")(t.product.price))+" 元")]):t._e()]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.qty.num,expression:"qty.num"}],staticClass:"form-control mt-3",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.qty,"num",e.target.multiple?a:a[0])}}},t._l(10,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("選購 "+t._s(e)+" "+t._s(t.product.unit))])}),0),t._v(" "),a("div",{staticClass:"text-nowrap mt-3 mb-3",staticStyle:{"font-size":"30px"}},[t._v("\n                小計\n                "),t.qty.num&&t.qty.num>0&&""!==t.product.price?a("strong",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(t.qty.num*t.product.price)))]):t.qty.num&&t.qty.num>0&&""===t.product.price?a("strong",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(t.qty.num*t.product.origin_price)))]):a("strong",[t._v("0")]),t._v("\n                元\n              ")]),t._v(" "),a("div",{staticClass:"btn btn-primary",on:{click:function(e){return t.addtoCart(t.product.id,t.qty.num)}}},[t._v("加到購物車")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"mb-1 text-info"},[t._v(t._s(t.product.description))]),t._v(" "),a("p",{staticClass:"card-text mb-auto"},[t._v(t._s(t.product.content))])])])])])])],1)},staticRenderFns:[]};var I=a("VU/8")(M,N,!1,function(t){a("YO1G")},null,null).exports,E=a("mvHQ"),O=a.n(E),F={inject:["reload"],data:function(){return{getFavorites:{items:[]},checkEmpty:!1}},methods:d()({},Object(v.b)("cartModules",["getCart"]),{getProduct:function(t){this.$router.push("/detail/"+t)},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("cartModules/addtoCart",{id:t,qty:e})},removeFavorite:function(t){var e=this;confirm("是否要從「我的最愛」中移除?")&&(this.getFavorites.items.length,this.getFavorites.items.forEach(function(a,s){a.id===t.id&&e.getFavorites.items.splice(s,1)}),localStorage.setItem("myFavorite",O()(this.getFavorites)),this.reload())}}),computed:d()({},Object(v.c)("cartModules",["isLoading"])),created:function(){var t=localStorage.getItem("myFavorite")?JSON.parse(localStorage.getItem("myFavorite")):console.log("nothing in localStorage");t&&t.items.length>0?(this.getFavorites.items=t.items,this.checkEmpty=!1):this.checkEmpty=!0}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"row",staticStyle:{"margin-top":"200px"}},[a("p",{staticClass:"col-sm-12",staticStyle:{"font-size":"30px","margin-left":"15px"}},[t._v("我的最愛")]),t._v(" "),t.checkEmpty?a("p",{staticClass:"col-sm-12",staticStyle:{"font-size":"20px","margin-left":"15px"}},[t._v("您還沒加入任何喜愛的商品哦!")]):t._e(),t._v(" "),t._l(t.getFavorites.items,function(e){return a("div",{key:e.id,staticClass:"col-sm-12 col-md-4 card border-0 item-hover mb-4",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"photo-scale product-style",staticStyle:{width:"90%",margin:"0 auto"},style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.getProduct(e.id)}}}),t._v(" "),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),t._v(" "),a("h5",{staticClass:"card-title word-size"},[a("a",{staticClass:"text-dark",attrs:{href:"#"},on:{click:function(a){return t.getProduct(e.id)}}},[t._v(t._s(e.title))])]),t._v(" "),a("a",{staticClass:"float-right",staticStyle:{"margin-top":"-20px","margin-right":"5px"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeFavorite(e)}}},[a("i",{staticClass:"fas fa-star"})]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"justify-content-between align-items-baseline"},[e.price?t._e():a("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(e.origin_price))+" 元")]),t._v(" "),e.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(e.origin_price))+" 元")]):t._e(),t._v(" "),e.price?a("div",{staticClass:"h5"},[t._v("特價 "+t._s(t._f("currency")(e.price))+" 元")]):t._e()])]),t._v(" "),a("div",{staticClass:"card-footer d-flex",staticStyle:{padding:"10px",border:"1px solid gray"}},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",staticStyle:{"margin-right":"5px"},attrs:{type:"button"},on:{click:function(a){return t.getProduct(e.id)}}},[a("i",{staticClass:"fas fa-info-circle"}),t._v("\n          查看更多\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(e.id)}}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v("\n          加到購物車\n        ")])])])})],2)],1)},staticRenderFns:[]};var R=a("VU/8")(F,$,!1,function(t){a("Mem+")},null,null).exports,T={data:function(){return{order_list:[],pagination:{},status:{loadingItem:""},isLoading:!1}},methods:{getOrderlist:function(){var t="https://vue-course-api.hexschool.io/api/caris/admin/orders?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),e=this;e.isLoading=!0,this.$http.get(t).then(function(t){e.order_list=t.data.orders,e.pagination=t.data.pagination,e.isLoading=!1,console.log("getOrderlist",t)})}},created:function(){this.getOrderlist()}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"list-con"},[a("div",{staticClass:"container"},[a("div",{staticClass:"scroll-area"},[a("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.order_list,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(t._f("timestamp")(e.create_at)))]),t._v(" "),a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(t._f("currency")(e.total)))]),t._v(" "),a("td",[t._v("\n                姓名: "+t._s(e.user.name)+"\n                "),a("br"),t._v("\n                電子信箱: "+t._s(e.user.email)+"\n                "),a("br"),t._v("\n                連絡電話: "+t._s(e.user.tel)+"\n              ")]),t._v(" "),a("td",[a("ul",t._l(e.products,function(e){return a("li",{key:e.id},[t._v(t._s(e.product.title)+" : "+t._s(e.qty)+t._s(e.product.unit)+"-單價"+t._s(e.final_total))])}),0)]),t._v(" "),a("td",[e.is_paid?a("b",{staticClass:"text-success d-block"},[t._v("已付款")]):t._e(),t._v(" "),e.is_paid?a("b",{staticClass:"text-success"},[t._v("付款日期: "+t._s(t._f("timestamp")(e.paid_date)))]):t._e(),t._v(" "),e.is_paid?t._e():a("b",{staticClass:"text-danger"},[t._v("未付款")])]),t._v(" "),a("td",[t._v(t._s(e.message))])])}),0)])])])]),t._v(" "),a("pagination",{attrs:{"page-data":t.pagination},on:{changepage:t.getOrderlist}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("下單時間")]),t._v(" "),a("th",[t._v("訂單編號")]),t._v(" "),a("th",[t._v("總金額")]),t._v(" "),a("th",[t._v("客戶資訊")]),t._v(" "),a("th",{attrs:{width:"200"}},[t._v("產品資訊")]),t._v(" "),a("th",{attrs:{width:"120"}},[t._v("付款狀態")]),t._v(" "),a("th",[t._v("備註")])])])}]},j=a("VU/8")(T,q,!1,null,null,null).exports,U=a("woOf"),G=a.n(U),V={data:function(){return{tempProduct:{},isNew:!1,status:{fileUpLoading:!1}}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("productsModules/getProducts",t)},openModal:function(t,e){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=G()({},e),this.isNew=!1),p()("#productModal").modal("show")},updateProduct:function(){var t="https://vue-course-api.hexschool.io",e=t+"/api/caris/admin/product",a="post",s=this;s.isNew||(e=t+"/api/caris/admin/product/"+s.tempProduct.id,a="put"),this.$http[a](e,{data:s.tempProduct}).then(function(t){t.data.success?(p()("#productModal").modal("hide"),s.getProducts()):(p()("#productModal").modal("hide"),s.getProducts(),console.log("新增失敗"))})},delModal:function(t){this.tempProduct=G()({},t),p()("#delProductModal").modal("show")},delProduct:function(){var t=this,e="https://vue-course-api.hexschool.io/api/caris/admin/product/"+t.tempProduct.id;this.$http.delete(e).then(function(e){e.data.success?(p()("#delProductModal").modal("hide"),t.getProducts()):(p()("#delProductModal").modal("hide"),t.getProducts(),console.log("刪除失敗"))})},uploadFile:function(){var t=this,e=this.$refs.files.files[0],a=this;a.status.fileUpLoading=!0;var s=new FormData;s.append("file-to-upload",e),this.$http.post("https://vue-course-api.hexschool.io/api/caris/admin/upload",s,{header:{"Content-Type":"multipart/form-data"}}).then(function(e){a.status.fileUpLoading=!1,e.data.success?a.$set(a.tempProduct,"imageUrl",e.data.imageUrl):t.$bus.$emit("msg-from-products",e.data.message,"danger")})}},computed:d()({},Object(v.c)("productsModules",["products_pagination","pagination"]),Object(v.c)("cartModules",["isLoading"])),created:function(){this.getProducts()}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("div",{staticClass:"text-right mt-4"},[a("button",{staticClass:"btn btn-primary mt-4",attrs:{type:"button"},on:{click:function(e){return t.openModal(!0)}}},[t._v("新增")])]),t._v(" "),a("table",{staticClass:"table mt-4"},[t._m(0),t._v(" "),a("tbody",t._l(t.products_pagination,function(e,s){return a("tr",{key:s,staticClass:"item-hover"},[a("td",[t._v(t._s(e.category))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(t._f("currency")(e.origin_price)))]),t._v(" "),a("td",[t._v(t._s(t._f("currency")(e.price)))]),t._v(" "),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啓用")]):a("span",[t._v("未啓用")])]),t._v(" "),a("td",[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal(!1,e)}}},[t._v("編輯")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(a){return t.delModal(e)}}},[t._v("刪除")])])])])}),0)]),t._v(" "),a("pagination",{attrs:{"page-data":t.pagination},on:{changepage:t.getProducts}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("\n                  或 上傳圖片\n                  "),t.status.fileUpLoading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),t._v(" "),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),a("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:"",src:t.tempProduct.imageUrl}})]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{"true-value":1,"false-value":0,type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&t.$set(t.tempProduct,"is_enabled",a.concat([null])):r>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"120"}},[t._v("分類")]),t._v(" "),a("th",[t._v("產品名稱")]),t._v(" "),a("th",{attrs:{width:"120"}},[t._v("原價")]),t._v(" "),a("th",{attrs:{width:"120"}},[t._v("售價")]),t._v(" "),a("th",{attrs:{width:"120"}},[t._v("是否啓用")]),t._v(" "),a("th",{attrs:{width:"120"}},[t._v("編輯")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("新增或編輯產品")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[this._v("刪除產品")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var X=a("VU/8")(V,W,!1,function(t){a("Phdq")},"data-v-f6d4275a",null).exports,Y={data:function(){return{coupons:[],pagination:{},tempData:{title:"",percent:100,code:""},due_date:"",isLoading:!1,isNew:!1}},watch:{due_date:function(){var t=Math.floor(new Date(this.due_date)/1e3);this.tempData.due_date=t}},methods:{getCoupon:function(){var t="https://vue-course-api.hexschool.io/api/caris/admin/coupons?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),e=this;e.isLoading=!0,this.$http.get(t).then(function(t){e.coupons=t.data.coupons,e.pagination=t.data.pagination,e.isLoading=!1,console.log("getCoupon",t)})},openModel:function(t,e){t?(this.tempData={},this.due_date="",this.isNew=!0):(this.due_date=new Date(1e3*e.due_date).toISOString().split("T")[0],this.tempData=G()({},e),this.isNew=!1),p()("#modal-add").modal("show")},updateCoupon:function(){var t=this,e="https://vue-course-api.hexschool.io",a=e+"/api/caris/admin/coupon",s="post",i=this;i.isNew||(a=e+"/api/caris/admin/coupon/"+i.tempData.id,s="put"),i.isLoading=!0,this.$validator.validate().then(function(e){e?t.$http[s](a,{data:i.tempData}).then(function(t){t.data.success?(p()("#modal-add").modal("hide"),i.getCoupon()):(p()("#modal-add").modal("hide"),i.getCoupon(),console.log("新增失敗",t.data)),i.isLoading=!1}):(console.log("欄位不完整"),i.isLoading=!1)})},deletCoupon:function(t){var e="https://vue-course-api.hexschool.io/api/caris/admin/coupon/"+t,a=this;confirm("確定要刪除?")&&this.$http.delete(e).then(function(t){a.getCoupon(),console.log("deletCoupon",t.data)})}},created:function(){this.getCoupon()}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._v(" "),a("button",{staticClass:"btn btn-outline-info mt-3",on:{click:function(e){return t.openModel(!0)}}},[t._v("建立優惠券")]),t._v(" "),a("table",{staticClass:"table table-hover mt-4"},[t._m(0),t._v(" "),a("tbody",t._l(t.coupons,function(e){return a("tr",{key:e.id,staticClass:"item-hover"},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.code))]),t._v(" "),a("td",[t._v(t._s(e.percent))]),t._v(" "),a("td",[t._v(t._s(t._f("timestamp")(e.due_date)))]),t._v(" "),a("td",[e.is_enabled?a("b",{staticClass:"text-success"},[t._v("啟用")]):a("b",{staticClass:"text-danger"},[t._v("未啟用")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-outline-primary mr-1",on:{click:function(a){return t.openModel(!1,e)}}},[t._v("編輯")]),t._v(" "),a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(a){return t.deletCoupon(e.id)}}},[t._v("刪除")])])])}),0)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-add",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("form",{staticClass:"modal-content",on:{submit:function(e){return e.preventDefault(),t.updateCoupon()}}},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mt-2"},[a("label",[t._v("優惠標題")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.title,expression:"tempData.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠標題",name:"coupon_name"},domProps:{value:t.tempData.title},on:{input:function(e){e.target.composing||t.$set(t.tempData,"title",e.target.value)}}}),t._v(" "),t.errors.has("coupon_name")?a("span",{staticClass:"text-danger"},[t._v("標題不可爲空")]):t._e()]),t._v(" "),a("div",{staticClass:"col-md-6 mt-2"},[a("label",[t._v("折扣(%)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.percent,expression:"tempData.percent"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",placeholder:"填寫 80 即為打八折",name:"coupon_percent"},domProps:{value:t.tempData.percent},on:{input:function(e){e.target.composing||t.$set(t.tempData,"percent",e.target.value)}}}),t._v(" "),t.errors.has("coupon_percent")?a("span",{staticClass:"text-danger"},[t._v("折扣不可爲空")]):t._e()]),t._v(" "),a("div",{staticClass:"col-md-6 mt-2"},[a("div",{staticClass:"form-group"},[a("label",[t._v("截止日期")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("end-date")},attrs:{type:"date",name:"end-date"},domProps:{value:t.due_date},on:{input:function(e){e.target.composing||(t.due_date=e.target.value)}}}),t._v(" "),t.errors.has("end-date")?a("span",{staticClass:"text-danger"},[t._v("請選擇日期")]):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-12 mt-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"coupon-code"}},[t._v("優惠券編碼")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.code,expression:"tempData.code"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("coupon-code")},attrs:{type:"text",name:"coupon-code",id:"coupon-code",placeholder:"優惠券編碼"},domProps:{value:t.tempData.code},on:{input:function(e){e.target.composing||t.$set(t.tempData,"code",e.target.value)}}}),t._v(" "),t.errors.has("coupon-code")?a("span",{staticClass:"text-danger"},[t._v("此欄位不可爲空")]):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-12 mt-3"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.is_enabled,expression:"tempData.is_enabled"}],attrs:{type:"checkbox",value:"0"},domProps:{checked:Array.isArray(t.tempData.is_enabled)?t._i(t.tempData.is_enabled,"0")>-1:t.tempData.is_enabled},on:{change:function(e){var a=t.tempData.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,"0");s.checked?r<0&&t.$set(t.tempData,"is_enabled",a.concat(["0"])):r>-1&&t.$set(t.tempData,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempData,"is_enabled",i)}}}),t._v(" 啟用/關閉\n              ")])])])]),t._v(" "),t._m(2)])])]),t._v(" "),a("pagination",{attrs:{"page-data":t.pagination},on:{changepage:t.getCoupon}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("優惠標題")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("編碼")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("折扣 % 數")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("使用期限")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("是否啟用")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("修改 / 刪除")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[this._v("建立優惠券")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("取消")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("確認")])])}]};var J=a("VU/8")(Y,z,!1,function(t){a("y0im")},"data-v-9f1096f2",null).exports,H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[a("router-link",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{to:"/",href:"#"}},[t._v("Company name")]),t._v(" "),a("ul",{staticClass:"navbar-nav px-3 flex-row"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#",title:"Sign out",name:"Sign out"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[a("i",{staticClass:"fas fa-sign-out-alt"})])])])],1)])},staticRenderFns:[]};var B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[a("div",{staticClass:"sidebar-sticky"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[a("i",{staticClass:"fas fa-box-open"}),t._v("產品列表\n          ")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[a("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單列表\n          ")])],1),t._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[a("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券\n          ")])],1)]),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-ticket-alt"}),t._v("模擬購物\n          ")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[this._v("管理員 - 後台")]),this._v(" "),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}},[this._v("(需登入)")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",[this._v("客戶選購 - 前台")]),this._v(" "),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}},[this._v("(免登入)")])])])}]},K={components:{Navbar:a("VU/8")({name:"Navbar",data:function(){return{}},methods:{signout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(e){e.data.success&&t.$router.push("/login")})}}},H,!1,function(t){a("7DBb")},"data-v-0a53621d",null).exports,Sidebar:a("VU/8")(null,B,!1,null,null,null).exports}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Navbar"),this._v(" "),e("Alert"),this._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar"),this._v(" "),e("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[e("router-view")],1)],1)])],1)},staticRenderFns:[]},Z=a("VU/8")(K,Q,!1,null,null,null).exports;s.default.use(o.a);var tt=new o.a({routes:[{path:"*",redirect:"login"},{path:"/",name:"",component:D,children:[{path:"login",name:"Login",component:c},{path:"",name:"Home",component:g},{path:"favorite",name:"Favorite",component:R},{path:"cart",name:"Cart",component:x},{path:"detail/:detailId",name:"Detail",component:I},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:w}]},{path:"/admin",name:"admin",component:Z,children:[{path:"products",name:"Products",component:X,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:j,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:J,meta:{requiresAuth:!0}}]}]});s.default.prototype.$bus=new s.default;var et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pageData.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.pageData.total_pages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.pageData.current_page===e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:!t.pageData.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pageData.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},staticRenderFns:[]},at=a("VU/8")({name:"pagination",props:["pageData"],methods:{changePage:function(t){this.$emit("changepage",t)}},created:function(){}},et,!1,null,null,null).exports,st={name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout(function(){e.messages.forEach(function(a,s){a.timestamp===t&&e.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("msg-from-products",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}),t.$bus.$on("msg-from-cart-coupon",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)})}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},staticRenderFns:[]};var rt=a("VU/8")(st,it,!1,function(t){a("1XR2")},null,null).exports,ot=a("mtWM"),nt=a.n(ot),ct=a("c/Tr"),lt=a.n(ct),dt=a("lHA8"),ut=a.n(dt),pt={namespaced:!0,strict:!0,state:{products:[],categories:[],products_pagination:[],pagination:{},searchText:"",clickSlide:!1},actions:{addFavorite:function(t,e){t.commit("ADDFAVORITE",e)},searchText:function(t,e){t.commit("SEARCHTEXT",e)},clickSlide:function(t,e){t.commit("CLICKSLIDE",e)},getProducts:function(t,e){if(t.commit("cartModules/LOADING",!0,{root:!0}),void 0!==e){var a="https://vue-course-api.hexschool.io/api/caris/products?page="+e;nt.a.get(a).then(function(e){t.commit("PRODUCTS_PAGINATION",e.data.products),t.commit("PAGINATION",e.data.pagination),t.commit("cartModules/LOADING",!1,{root:!0})})}nt.a.get("https://vue-course-api.hexschool.io/api/caris/products/all").then(function(e){var a=localStorage.getItem("myFavorite")?JSON.parse(localStorage.getItem("myFavorite")):{items:[]};a.items.length>0?e.data.products.forEach(function(t){var e=a.items.some(function(e){return e.id===t.id});t.isStar=!!e}):e.data.products.forEach(function(t){t.isStar=!1}),t.commit("PRODUCTS",e.data.products),t.commit("CATEGORIES",e.data.products),t.commit("cartModules/LOADING",!1,{root:!0})})}},mutations:{SEARCHTEXT:function(t,e){t.searchText=e},CLICKSLIDE:function(t,e){t.clickSlide=e},PRODUCTS_PAGINATION:function(t,e){t.products_pagination=e},PRODUCTS:function(t,e){t.products=e.filter(function(t){return t.is_enabled})},CATEGORIES:function(t,e){var a=new ut.a;e.forEach(function(t){a.add(t.category)}),t.categories=lt()(a)},PAGINATION:function(t,e){t.pagination=e},ADDFAVORITE:function(t,e){var a=localStorage.getItem("myFavorite")?JSON.parse(localStorage.getItem("myFavorite")):{items:[]};a.items.some(function(t){return t.id===e.id})?confirm("是否要從「我的最愛」中移除?")&&(a.items.forEach(function(t,s){t.id===e.id&&a.items.splice(s,1)}),e.isStar=!1):(e.isStar=!0,a.items.push(e));localStorage.setItem("myFavorite",O()(a))}},getters:{products:function(t){return t.products},products_pagination:function(t){return t.products_pagination},categories:function(t){return t.categories},pagination:function(t){return t.pagination},searchText:function(t){return t.searchText},clickSlide:function(t){return t.clickSlide}}},vt={namespaced:!0,strict:!0,state:{isLoading:!1,cart:{carts:[]}},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},getCart:function(t){t.commit("LOADING",!0),nt.a.get("https://vue-course-api.hexschool.io/api/caris/cart").then(function(e){e.data.data.carts&&t.commit("CART",e.data.data),t.commit("LOADING",!1)})},addtoCart:function(t,e){var a={product_id:e.id,qty:e.qty};t.commit("LOADING",!0),nt.a.post("https://vue-course-api.hexschool.io/api/caris/cart",{data:a}).then(function(e){t.commit("LOADING",!1),t.dispatch("getCart"),console.log("加入購物車:",e)})},removeCartItem:function(t,e){var a=e.id,s=e.title,i="https://vue-course-api.hexschool.io/api/caris/cart/"+a,r=confirm("確認刪除「"+s+"」嗎?");t.commit("LOADING",!0),r?nt.a.delete(i).then(function(e){console.log("removeCartItem",e),t.dispatch("getCart"),t.commit("LOADING",!1)}):t.commit("LOADING",!1)}},mutations:{LOADING:function(t,e){t.isLoading=e},CART:function(t,e){t.cart=e}},getters:{isLoading:function(t){return t.isLoading},cart:function(t){return t.cart}}};s.default.use(v.a);var mt=new v.a.Store({modules:{productsModules:pt,cartModules:vt},namespaced:!0,strict:!0,state:{loginSuccess:!1},actions:{getLoginSuccess:function(t){t.commit("cartModules/LOADING",!0),nt.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(e){t.commit("LOGINSUCCESS",e.data.success),t.commit("cartModules/LOADING",!1)})}},mutations:{LOGINSUCCESS:function(t,e){t.loginSuccess=e}},getters:{loginSuccess:function(t){return t.loginSuccess}}}),ht=a("Rf8U"),_t=a.n(ht),ft=a("ZZvs"),gt=a.n(ft),Ct=(a("SYh3"),a("K3J8"),a("sUu7")),bt=a("1SbN"),xt=a.n(bt),yt=a("Ye6q"),kt=a.n(yt),wt=(a("qH6B"),a("ACsF")),Pt=a.n(wt);s.default.use(v.a),s.default.use(_t.a,nt.a),s.default.use(Ct.a),Ct.a.Validator.localize("zh_TW",xt.a),s.default.use(kt.a.directive),s.default.prototype.$tip=kt.a.tip,s.default.filter("timestamp",function(t){return new Date(1e3*t).toLocaleDateString()}),s.default.filter("currency",function(t){return"$"+Number(t).toFixed(0).replace(/./g,function(t,e,a){return e&&"."!==t&&(a.length-e)%3==0?(", "+t).replace(/\s/g,""):t})}),s.default.component("pagination",at),s.default.component("Alert",rt),s.default.component("Loading",gt.a),s.default.component(Pt.a.name,Pt.a),s.default.config.productionTip=!1,nt.a.defaults.withCredentials=!0,new s.default({el:"#app",router:tt,store:mt,components:{App:r},template:"<App/>"}),tt.beforeEach(function(t,e,a){if(t.meta.requiresAuth){nt.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){t.data.success?a():a({path:"/login"})})}else a()})},Phdq:function(t,e){},SYh3:function(t,e){},YO1G:function(t,e){},"dLd/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAAA2CAMAAAFxUT5JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL6UExURf///9ra2oCAgODg4Pn5+VlZWQUFBWRkZOfn58vLy76+vvv7+/T09Pb29g0NDQAAABkZGePj48fHx6ampnx8fHJyclxcXENDQzg4OIyMjNHR0Z6ennBwcGdnZ7y8vN/f3wwMDAkJCVhYWD8/PyIiIgQEBAMDAwEBAQ8PD+zs7PPz835+fqmpqaCgoMnJyeLi4nFxcUdHRxwcHAICAjY2NuTk5OXl5cXFxaSkpJSUlIWFhQcHBykpKfLy8q6uriMjI/f397e3t3l5eVNTUx4eHjc3N+vr68TExFVVVczMzD09PTU1NSAgIBISEggICBoaGkJCQlRUVGNjY/7+/p2dnXt7e2JiYjAwMG9vbzw8POnp6W1tbRcXF4iIiKioqNnZ2cLCwhMTEwYGBiQkJEBAQK2trf39/U9PT3Z2dpaWloqKiiEhIRAQELi4uHd3d1paWjk5OWZmZpGRkcrKyvDw8GhoaLCwsNTU1E1NTVdXV2BgYGtra5eXl9zc3CYmJm5ubsPDw+jo6Pz8/FJSUt7e3tPT09vb27S0tLa2to+Pj6urq+Hh4ScnJ+7u7pKSktfX15ycnNXV1YKCgh8fHz4+Pi8vLzMzM5CQkGVlZU5OThsbG7q6uqenp19fX8jIyJmZmbu7u9DQ0CsrK9bW1hEREa+vr46OjjIyMt3d3WlpaXNzc2pqapiYmKGhoe/v715eXoODg0FBQRQUFEREREVFRb29vRYWFktLSxgYGCwsLHV1daWlpfX19YGBgbKysvHx8SgoKDQ0NH9/f8/Pz+bm5h0dHbOzs5OTk4aGhjo6OioqKkhISC4uLu3t7fr6+lZWVg4ODlFRUS0tLX19fb+/v3R0dM3NzcDAwImJiWxsbISEhF1dXTExMVtbW3h4eNjY2EZGRsHBwQsLC4eHh9LS0iUlJUxMTBUVFbW1tVBQUHp6eurq6sbGxklJSTs7O/j4+KOjo42NjaysrKqqqpqamqKiokpKSgoKCrm5uZ+fn5WVlZubm7GxsQAAAPi6MFgAAAD+dFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8A2NkMcQAAAAlwSFlzAAAOwwAADsMBx2+oZAAACNNJREFUWEfdWUuSrCoQdQdswsXIItwCES6EqVMYMGDO0tjAOyfBD5ZWa3fXfe/dE9FdivLJzJMfsLuJXv6rkf+0XO+h+C/3/LFKblaE2CvLN6RdK1eaK9CW5Yfv4LftqzBaxI+XZju3T5e5sDT+lBHuQstYOuDfcdKACfkb5UFqHvsxZsxnMTOa5d8eymC5WBaHLcraIRclli7Hnp2RSX3HTub48AJ6qhedml8GXKF7zqu61WyYaH0ZIryac4EoPKMjpeq6AWbK+OM15ptwWR6cwMpbxXCYxHYqCT14NzhryuUZBvxZjF/MqTB37Udgubu7A8gx38sAcsfVqnrnVcJ6vwUOVC8/i9WaYN4XMyq1aXC9NmpR8RkmkjIPi3o6t9Ps2wkNO/rtBcWb5db0110Dp6p8KVcqwHPkWql5Bp/Oocg0eF6JFRhfwQvLy0pvc79CaTpRFxhTugD6kgEzb0BeE520n0GlLuZlrdQLJlk17NV4GVzYAR2XJakum0XBuAOuvEsi6b5jvwuNdJarGTEgVosgVW5TN8L5g8iNJ+FSqQUe9pLoBPDNOFedbM3PMOjOPYq8z6HgGLYK+E0gk5j+bJkmHGykZzIaCMP3p6Q/TaeWH9WgTZsDu4iFIXKt7n8fqjfjYm9lcwIxGlSvFZ8pTlHBBYY0mWkYDlnqC6hZL8xUySEbtAjwtpGz0Wabn5reIWEQJr/JVKfAcKkXH+aYGbFh1x+SWQrDyYY+bCkXfu/pXXxdMusTYLiEPztCntSym0OyJCFmp/Y5vsiN1Y7PVEqgxIHpoog5qWmXqiBbnXGS0WtzAZeG+goo9dkD1MTIsgOD2jY5yjQaGbOdrkApF90QHms1SYDphaNqGhs7yoygJM35AhRbIRkw6LLauIDQ08PFSRQPbyjNBWV6ur9KR1EkwREnq3kPMX0Uts/OqZSndmwYCw3Wybz7KkgavmHHA+z9FRulMtzksVb/R5BkWGqCD+BoWyAgCkGlj2mzIYfOD6VkaaEZyRoGD3MlTfpG6lhgOcZSBOxBCg+uSWKcCzH2B9KJA6R8OgKCaTwIYsHNQWXz3IJjWgKUF7efjiwvMw0v9VnN/vXuNgboivmJSAHh9DhwXY4M32RptIR+cGYYHlkxcnNc9cgxj5QpsbvkjCZNgUlTTcbL5ugeVBdqiahhqWP4RxLGJk9gmaVrczcz0BPziKh6WhNdgTvMegXpUB43tEEaYggb5BAgbCOX2dBqsaRDPfQFEH5Tz6AscUOled8/MDazrsnIRvsihmsI8AuU3i9W+ALoIHaalY4TiLCvGbHlwYSj6isjN3ZArojSQ1Cb7oJ24T5j1NgqmMYaQhWZFhgxaW0npA08ndDvGbAHWzal6DrsNhlIPbVwMzxNafMQFYPYk83jYDNir4g+s4yGDLcRI6gsXEGjUPI1qBSmPsyHldUimVBky+oapkILkyxI8joflDyM5unGK1a3Rz8LVvgdM7gaUjZBkhMxIH7Uh8LrDpb3QRyWaE3YcJSXD84GLWQC6v1dFAkVd2ygKZi5y0/IB/SAdKo2+CViKXYF9f4uCkt0cXFgX5n1fEjvKJxqAWXMkobr/V2IRC7xRyE37QXEhJwIMkIYc+Q/W4mHpBFach/IyeyWOgST3MHrZQszj42cbEnD3KjkDsRzrUeIDgobReVdG4yxGGgbyYhz7tW37KOOkt9GhF4F7YRx5a2XoLuDvP1UwB8Aoke44VMbfh+iCj0/qjD+Y4im5eXfB3AwWJ3NNKR5fn6G8DswJRLFtvJ/C+sMqm2EiUuPtd7ncZxKfl3wsFb6LWARzrDYgrJr01v4tVpGQLnqUYJYBQ/WRq/jv0FXbxCqCamfbqGsfTb57XrjlIZpMs4ztv45yaJ347hPjrEPTPL32QlEMzksGTVz+Grl2Rj5pJHw75rPvwW37OAPyQfpkjLLRu1wWHzAGPZlCR1sIijuOZaNg4D5wALl0ScASfhNFFVAU/6iEg2THJXM77cUdu+oeVoLSuDSlt45h2CT+jlxo1bxWn7/DlCnoa6AE7WGknUnrPe9/Yo9YIc4DKIPIhjjHG3ZFjBEphi+qG5DLzT6WHbnqT4UuXdDfo0XlWL707QfwfeKqSrVJ/6KMRh4jmmOW8GwCNcXe/Nl8PyDAtJxsL/X2ueVjTxXF4ahUM1UeTq3pJSrrCylYA8oUngRELk0WC81bgu24gUjT7k3DNEaEfRsg/Fb2Pl9cScWoBLhrIR0oH89zwTK94XCRL5oUNNvXgW8Rg9L7jK9L6V8RfqgfKL/pHXksY+UFvz1XZbSRNLheZizVfoiR5vIRfTzMoHWmxFi+MaKT2eMIhk4s6+dTELqxsR5Gk4ZKpYXL5TVFTeUwJhGkX2/nd9hJ9o8GKc/arwF0L+NmLnkQ73LDTySAl79SU6wg5ZNnEhYL4qgwKVb6WkaIZd08lMhSv/yMeiXAetBkuoKTI9yITQM2DOj5TWeupTQyLhSPmJzoat4CCXy0lvws+uGz+4DETDDdt4O+vWUiJFdmIaLqwXzgKJSe/FKNflbxJP3J0/1CCE+ylaI0KiwljcId4M2LB0vNcx4v/hbjJEC3zwFYCxFzVROm4jP8hQUrVek35oZZOaZuSsM5ypmYGRWtyn0KUv99rZA2LCnqAj5qMh/DIaaetlJICw2YwhIouQdiRvwXepDeCa4iKBH0AXU6EbWp6Nh73UBHwFcbyOJxZ2YlGFkHkaP+yvD0GhF+XKAR2BTe8MR1w/nK+qDDwH+UypIXUrgEljgKiI3fq8oxLcXcZqcD828pR0dmBTBFt859rxp++9Cqk/CZlOq/j4NDDRsQ8qScHlGo+jqeVmpgPCe1VnOPYgwY5Rz9pEfDb7YwfwczTp4AlZScQjy7Qv/cfsmZYlJJMcURD8OMsA+hrXwpfIRHL6D/THE6HN2zpiRAcG/XYR3J6czUed8/ikdsLLP4jdJ/rB8+Msg0VfOgaKTzPF1dPoprEXKjqVe/BOI4+7I20ttcx9d9w8dbTtv0GwGmgAAAABJRU5ErkJggg=="},gkcb:function(t,e){},kT1F:function(t,e){},qH6B:function(t,e){},wadF:function(t,e){},y0im:function(t,e){},z2dp:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c5b2706de9cc9f9eccf2.js.map